直播间根据功能的不同划分为多个 module，每个 module 处理一项功能。将 module 存储在一个 List 中，统一管理，module 直接可以相互调用。
房间 UI 由 多个 Fragment 划分而成，如舞台，公屏，顶部区域，底部区域等等。
房间舞台则由一个舞台 Fragment 和多个模板 Fragment 组成，每个摸板玩法抽象成一个 StageFragment，摸板之间切换就是替换不同的 StageFragment。
每个舞台麦位被抽象成一个 StageCompoent，里面处理麦位UI，麦位信息等。一个摸板由多个 StageCompoent 组成，每个 StageCompoent 会存在一个 List 中，在舞台 Fragment 中进行统一的数据处理和更新。
总体来说直播间架构像是一种组合模式，由不同模块组合而成，通过自上而下进行数据传递和管理。

直播间公屏优化：
公屏消息来时不会直接显示，会先进入一个公屏消息队列中缓存，然后再排队显示，避免消息丢失问题。

礼物逻辑：
在打开 app 时会请求礼物列表信息，将列表信息保存在单例中，然后下载礼物动画文件，在送礼时，礼物信息先会查询内存缓存，如果不存在才会查询礼物接口获取，同样动画文件也是先查询本地，没有再播放在线地址。

app 广播：
广播由广播组，媒体组等分类，每个不同的功能对应不同的广播组。每个广播组有一个唯一 id，根据 id 去订阅。
广播组底下广播有大小类之分，用来细化对应的不同功能。同时还分广播和单播。每个房间对应一个媒体组，美图组之间是隔离的，像跨房pk这种就是订阅同一个媒体组。

